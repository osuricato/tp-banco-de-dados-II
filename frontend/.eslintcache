[{"/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/pages/Home/index.tsx":"1","/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/pages/Profile/styles.ts":"2","/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/pages/Profile/index.tsx":"3","/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/pages/Login/index.tsx":"4"},{"size":7235,"mtime":1617215781638,"results":"5","hashOfConfig":"6"},{"size":1701,"mtime":1617215683893,"results":"7","hashOfConfig":"6"},{"size":3817,"mtime":1617224964806,"results":"8","hashOfConfig":"6"},{"size":2920,"mtime":1617224140915,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1yqq1k0",{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"14","messages":"15","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"16"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/pages/Home/index.tsx",[],"/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/pages/Profile/styles.ts",[],"/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/pages/Profile/index.tsx",["19"],"import React, { useRef, useCallback } from 'react';\nimport { useHistory } from 'react-router-dom'\nimport { Form } from '@unform/web';\nimport { FormHandles } from '@unform/core';\nimport { Link } from 'react-router-dom';\nimport { FiArrowLeft, FiUser, FiMail, FiLock } from 'react-icons/fi';\nimport * as Yup from 'yup';\n\nimport InputForm from '../../components/InputForm';\nimport Button from '../../components/Button';\n\nimport { \n    Container,\n    Header,\n    BackButton,\n    Content,\n    FormContainer,\n    ButtonContainer\n} from './styles';\n\nimport api from '../../services/api';\n\ninterface UserFormData {\n    email: string,\n    password: string,\n    newPassword: string\n}\n\nconst Profile: React.FC = () => {\n    const formRef = useRef<FormHandles>(null);\n\n    const history = useHistory();\n\n\n    // const [dataUser, setDataUser] = useState(() => {\n    //     const user = localStorage.getItem('@RENTX:loggedUser');\n    \n    //     if (user) {\n    //         return { user: JSON.parse(user) };\n    //     }\n    \n    //     return {};\n    // });;\n\n    // console.log(dataUser.user.name)\n\n\n    const handleSubmit = useCallback(\n        async (data: UserFormData) => {\n          try {\n            formRef.current?.setErrors({});\n    \n            const schema = Yup.object().shape({\n                email: Yup.string().required('Email obrigatório'),\n                password: Yup.string().required('Senha obrigatória.'),\n                newPassword: Yup.string().required('Nova senha obrigatória.'),\n            });\n      \n            await schema.validate(data, {\n                abortEarly: false,\n            });\n    \n            await api.put('resetPassword', data)\n\n            alert('Usuário editado com sucesso!')\n\n            history.push('/home')\n          } catch (error) {\n            console.log(error)\n\n            alert('Email ou senha inválido(s)!')\n          }\n        },\n        [history],\n    );\n\n    return (\n        <Container>\n            <Header>\n                <BackButton>\n                    <Link to=\"/home\">\n                <span>\n                    <FiArrowLeft\n                    size={40}\n                    color={'#FFFFFF'}\n                    />\n                </span>\n                </Link>\n                </BackButton>\n                <h1>Editar Perfil</h1>     \n\n            </Header>\n\n            <Content>\n                <Form ref={formRef} onSubmit={handleSubmit}>\n                    <FormContainer>\n                        <InputForm\n                            name=\"email\"\n                            type=\"email\"\n                            icon={FiMail}\n                            required={true}\n                            labelName=\"Email\"\n                            placeholder=\"Email\"\n                        />\n                    \n                        <InputForm\n                            name=\"password\"\n                            type=\"password\"\n                            icon={FiLock}\n                            required={true}\n                            labelName=\"Senha atual\"\n                            placeholder=\"Senha atual\"\n                        />\n\n                        <InputForm\n                            name=\"newPassword\"\n                            type=\"password\"\n                            icon={FiLock}\n                            required={true}\n                            labelName=\"Nova senha\"\n                            placeholder=\"Nova senha\"\n                        />\n                        <ButtonContainer>\n                            <Button type=\"submit\">Salvar alterações</Button>\n                        </ButtonContainer>\n                                    \n                    </FormContainer>\n                </Form>\n            </Content>\n        </Container>\n    )\n}\n\nexport default Profile;","/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/pages/Login/index.tsx",[],{"ruleId":"20","severity":1,"message":"21","line":6,"column":23,"nodeType":"22","messageId":"23","endLine":6,"endColumn":29},"@typescript-eslint/no-unused-vars","'FiUser' is defined but never used.","Identifier","unusedVar"]