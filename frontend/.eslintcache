[{"/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/pages/Home/index.tsx":"1","/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/pages/Profile/styles.ts":"2","/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/pages/Profile/index.tsx":"3","/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/pages/Login/index.tsx":"4","/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/routes/routes.tsx":"5","/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/components/SimpleSelect/styles.ts":"6","/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/pages/Home/styles.ts":"7","/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/pages/Login/styles.ts":"8","/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/components/Datepicker/index.tsx":"9","/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/components/SimpleSelect/index.tsx":"10","/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/utils/range.ts":"11","/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/pages/Details/index.tsx":"12","/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/components/NavBar/index.tsx":"13","/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/components/InputForm/styles.ts":"14","/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/components/Datepicker/styles.ts":"15"},{"size":8254,"mtime":1617285391964,"results":"16","hashOfConfig":"17"},{"size":1701,"mtime":1617215683893,"results":"18","hashOfConfig":"17"},{"size":3817,"mtime":1617224964806,"results":"19","hashOfConfig":"17"},{"size":2920,"mtime":1617224140915,"results":"20","hashOfConfig":"17"},{"size":974,"mtime":1617238293743,"results":"21","hashOfConfig":"17"},{"size":230,"mtime":1612795577586,"results":"22","hashOfConfig":"17"},{"size":4034,"mtime":1617285675449,"results":"23","hashOfConfig":"17"},{"size":1239,"mtime":1617239320730,"results":"24","hashOfConfig":"17"},{"size":3627,"mtime":1617142322174,"results":"25","hashOfConfig":"17"},{"size":1658,"mtime":1612795577586,"results":"26","hashOfConfig":"17"},{"size":172,"mtime":1617031450669,"results":"27","hashOfConfig":"17"},{"size":5934,"mtime":1617296476572,"results":"28","hashOfConfig":"17"},{"size":1563,"mtime":1617244204225,"results":"29","hashOfConfig":"17"},{"size":1233,"mtime":1613076185832,"results":"30","hashOfConfig":"17"},{"size":1204,"mtime":1617143003338,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1yqq1k0",{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"43"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/pages/Home/index.tsx",[],"/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/pages/Profile/styles.ts",[],"/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/pages/Profile/index.tsx",["67"],"import React, { useRef, useCallback } from 'react';\nimport { useHistory } from 'react-router-dom'\nimport { Form } from '@unform/web';\nimport { FormHandles } from '@unform/core';\nimport { Link } from 'react-router-dom';\nimport { FiArrowLeft, FiUser, FiMail, FiLock } from 'react-icons/fi';\nimport * as Yup from 'yup';\n\nimport InputForm from '../../components/InputForm';\nimport Button from '../../components/Button';\n\nimport { \n    Container,\n    Header,\n    BackButton,\n    Content,\n    FormContainer,\n    ButtonContainer\n} from './styles';\n\nimport api from '../../services/api';\n\ninterface UserFormData {\n    email: string,\n    password: string,\n    newPassword: string\n}\n\nconst Profile: React.FC = () => {\n    const formRef = useRef<FormHandles>(null);\n\n    const history = useHistory();\n\n\n    // const [dataUser, setDataUser] = useState(() => {\n    //     const user = localStorage.getItem('@RENTX:loggedUser');\n    \n    //     if (user) {\n    //         return { user: JSON.parse(user) };\n    //     }\n    \n    //     return {};\n    // });;\n\n    // console.log(dataUser.user.name)\n\n\n    const handleSubmit = useCallback(\n        async (data: UserFormData) => {\n          try {\n            formRef.current?.setErrors({});\n    \n            const schema = Yup.object().shape({\n                email: Yup.string().required('Email obrigatório'),\n                password: Yup.string().required('Senha obrigatória.'),\n                newPassword: Yup.string().required('Nova senha obrigatória.'),\n            });\n      \n            await schema.validate(data, {\n                abortEarly: false,\n            });\n    \n            await api.put('resetPassword', data)\n\n            alert('Usuário editado com sucesso!')\n\n            history.push('/home')\n          } catch (error) {\n            console.log(error)\n\n            alert('Email ou senha inválido(s)!')\n          }\n        },\n        [history],\n    );\n\n    return (\n        <Container>\n            <Header>\n                <BackButton>\n                    <Link to=\"/home\">\n                <span>\n                    <FiArrowLeft\n                    size={40}\n                    color={'#FFFFFF'}\n                    />\n                </span>\n                </Link>\n                </BackButton>\n                <h1>Editar Perfil</h1>     \n\n            </Header>\n\n            <Content>\n                <Form ref={formRef} onSubmit={handleSubmit}>\n                    <FormContainer>\n                        <InputForm\n                            name=\"email\"\n                            type=\"email\"\n                            icon={FiMail}\n                            required={true}\n                            labelName=\"Email\"\n                            placeholder=\"Email\"\n                        />\n                    \n                        <InputForm\n                            name=\"password\"\n                            type=\"password\"\n                            icon={FiLock}\n                            required={true}\n                            labelName=\"Senha atual\"\n                            placeholder=\"Senha atual\"\n                        />\n\n                        <InputForm\n                            name=\"newPassword\"\n                            type=\"password\"\n                            icon={FiLock}\n                            required={true}\n                            labelName=\"Nova senha\"\n                            placeholder=\"Nova senha\"\n                        />\n                        <ButtonContainer>\n                            <Button type=\"submit\">Salvar alterações</Button>\n                        </ButtonContainer>\n                                    \n                    </FormContainer>\n                </Form>\n            </Content>\n        </Container>\n    )\n}\n\nexport default Profile;","/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/pages/Login/index.tsx",[],"/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/routes/routes.tsx",[],["68","69"],"/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/components/SimpleSelect/styles.ts",[],["70","71"],"/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/pages/Home/styles.ts",[],"/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/pages/Login/styles.ts",[],"/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/components/Datepicker/index.tsx",[],["72","73"],"/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/components/SimpleSelect/index.tsx",["74","75","76","77"],"import React, { useRef, useEffect, useCallback, useMemo } from 'react';\nimport { useTheme } from 'styled-components';\nimport Select, {\n  OptionTypeBase,\n  Props as SelectProps,\n  Theme as SelectTheme\n} from 'react-select';\nimport { useField } from '@unform/core';\n\nimport { LabelContainer } from './styles';\n\ninterface Props extends SelectProps<OptionTypeBase>{\n  name: string;\n  label?: string;\n}\n\nconst SimpleSelect: React.FC<Props> = ({ \n  name,\n  label,\n  defaultValue: RSdefaultValue,\n  ...rest\n }) => {\n    const selectRef = useRef<Select<OptionTypeBase>>(null);\n    const { fieldName, defaultValue = RSdefaultValue, registerField } = useField(\n      name,\n    );\n\n    useEffect(() => {\n      registerField({\n        name: fieldName,\n        ref: selectRef.current,\n        getValue: (ref: any) => {\n          if (rest.isMulti) {\n            if (!ref.state.value) {\n              return [];\n            }\n            return ref.state.value.map((option: OptionTypeBase) => option.value);\n          }\n          if (!ref.state.value) {\n            return '';\n          }\n          return ref.state.value.value;\n        },\n        setValue: (ref: any, value: any) => {\n          ref.state.value = value;\n        },\n        clearValue: (ref: any, value: any) => {\n          ref.select.clearValue();\n        },\n      });\n    }, [fieldName, registerField, rest.isMulti]);\n    \n  return (\n    <LabelContainer>\n      { label && <small>{label}</small>}\n\n      <Select\n        \n        defaultValue={defaultValue}\n        ref={selectRef}\n        classNamePrefix=\"react-select\"\n        {...rest}\n      />\n    </LabelContainer>\n  );\n}\n\nexport default SimpleSelect;\n","/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/utils/range.ts",[],"/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/pages/Details/index.tsx",[],"/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/components/NavBar/index.tsx",[],"/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/components/InputForm/styles.ts",[],"/home/samuel/Documentos/UFOP/5º PERÍODO/BANCO DE DADOS II/Trabalho Prático/BD II/frontend/src/components/Datepicker/styles.ts",[],{"ruleId":"78","severity":1,"message":"79","line":6,"column":23,"nodeType":"80","messageId":"81","endLine":6,"endColumn":29},{"ruleId":"82","replacedBy":"83"},{"ruleId":"84","replacedBy":"85"},{"ruleId":"82","replacedBy":"86"},{"ruleId":"84","replacedBy":"87"},{"ruleId":"82","replacedBy":"88"},{"ruleId":"84","replacedBy":"89"},{"ruleId":"78","severity":1,"message":"90","line":1,"column":36,"nodeType":"80","messageId":"81","endLine":1,"endColumn":47},{"ruleId":"78","severity":1,"message":"91","line":1,"column":49,"nodeType":"80","messageId":"81","endLine":1,"endColumn":56},{"ruleId":"78","severity":1,"message":"92","line":2,"column":10,"nodeType":"80","messageId":"81","endLine":2,"endColumn":18},{"ruleId":"78","severity":1,"message":"93","line":6,"column":12,"nodeType":"80","messageId":"81","endLine":6,"endColumn":23},"@typescript-eslint/no-unused-vars","'FiUser' is defined but never used.","Identifier","unusedVar","no-native-reassign",["94"],"no-negated-in-lhs",["95"],["94"],["95"],["94"],["95"],"'useCallback' is defined but never used.","'useMemo' is defined but never used.","'useTheme' is defined but never used.","'SelectTheme' is defined but never used.","no-global-assign","no-unsafe-negation"]